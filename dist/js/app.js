!function(e){function t(t){for(var r,c,i=t[0],u=t[1],l=t[2],p=0,m=[];p<i.length;p++)c=i[p],a[c]&&m.push(a[c][0]),a[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);m.length;)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={0:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var s=u;o.push([782,1]),n()}({782:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(20),c=n.n(o),i=(n(394),n(956),n(961),n(969),n(22)),u=n(81),l=n(826),s=n(76),p=n(85),m=n(829),f=n(830),d=n(832),g=n(831),h=n(828),v=n(106),b=n(330),y=n(827),E=n(825),w=function(){return a.a.createElement(v.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright © ",a.a.createElement(E.a,{color:"inherit",href:"http://cwise.gise.ntnu.edu.tw/"},"cwise.gise.ntnu.edu.tw")," ",(new Date).getFullYear(),".")},O=Object(b.a)(function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}});function j(){var e=O(),t=Object(p.f)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(l.a,null),a.a.createElement("main",null,a.a.createElement("div",{className:e.heroContent},a.a.createElement(y.a,{maxWidth:"sm"},a.a.createElement(v.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0},"光譜學習軟體"),a.a.createElement(v.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0},"點擊以下單元進行"))),a.a.createElement(y.a,{className:e.cardGrid,maxWidth:"md"},a.a.createElement(h.a,{container:!0,spacing:4},a.a.createElement(h.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(m.a,{className:e.card},a.a.createElement(f.a,{onClick:function(){t.push("/spectrum")}},a.a.createElement(g.a,{className:e.cardMedia,image:"https://media.apnarm.net.au/media/images/2019/01/17/b881764511z1_20190117092806_000g8c1cunjp2-0-l67ej4qv01hj7qv8nr2_ct1880x930.jpg",title:"Image title"}),a.a.createElement(d.a,{className:e.cardContent},a.a.createElement(v.a,{gutterBottom:!0,variant:"h5",component:"h2"},"恆星的等效溫度"),a.a.createElement(v.a,null,"由普朗克的輻射分佈曲線對照恆星總輻射量，找出恆星的等效溫度。")))))))),a.a.createElement("footer",{className:e.footer},a.a.createElement(w,null)))}var S=n(833),x=n(834),T=n(835),C=n(341),P=n.n(C),_=n(350),D=n(836),k=n(852),A=n(840),R=n(838),N=n(839),I=n(837),M=n(853);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),L(this,G(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.props.getChartData()}},{key:"render",value:function(){var e=this.props,t=e.children;e.t;return a.a.createElement("div",{className:"chart-wrapper"},t)}}])&&F(n.prototype,r),o&&F(n,o),t}(),W=function(e){var t={},n=e.map(function(e){return t[e.id]=e,e.id});return{data:t,list:n}};function q(e,t,n,r,a,o,c){try{var i=e[o](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}var H=function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then(function(e){return e.text().then(function(e){return e.split(/\r?\n/)})});case 2:return n=e.sent,r=n.shift().split(","),e.abrupt("return",n.map(function(e){for(var t=e.split(","),n={},a=0;a<t.length;a+=1)r[a]&&(n[r[a]]=parseFloat(t[a]));return n}));case 5:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(e){q(o,r,a,c,i,"next",e)}function i(e){q(o,r,a,c,i,"throw",e)}c(void 0)})});return function(e){return t.apply(this,arguments)}}();function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){J(e,t,n[t])})}return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t,n,r,a,o,c){try{var i=e[o](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function Y(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(e){V(o,r,a,c,i,"next",e)}function i(e){V(o,r,a,c,i,"throw",e)}c(void 0)})}}var Q=function(){var e=Y(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t.url);case 2:return n=e.sent,e.abrupt("return",z({},t,{data:n}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),X=[{id:"1237674649928597570",url:"./csv_data/csvSpectrum_1237674649928597570.csv",subClass:"K1",reference:"http://skyserver.sdss.org/dr12/en/tools/quicklook/summary.aspx?id=1237674649928597570"},{id:"1237674649928597563",url:"./csv_data/csvSpectrum_1237674649928597563.csv",subClass:"F5",reference:"http://skyserver.sdss.org/dr12/en/tools/quicklook/summary.aspx?id=1237674649928597563"},{id:"1237674649928532061",url:"./csv_data/csvSpectrum_1237674649928532061.csv",subClass:"K3",reference:"http://skyserver.sdss.org/dr12/en/tools/quicklook/Summary.aspx?id=1237674649928532061"},{id:"1237674649928532213",url:"./csv_data/csvSpectrum_1237674649928532213.csv",subClass:"K1",reference:"http://skyserver.sdss.org/dr12/en/tools/quicklook/Summary.aspx?id=1237674649928532213"},{id:"1237648720693690487",url:"./csv_data/csvSpectrum_1237648720693690487.csv",subClass:"K1",reference:"http://skyserver.sdss.org/dr12/en/tools/quicklook/Summary.aspx?id=1237648720693690487"}],Z=Object(i.b)(function(e){return{}},function(e){return{getChartData:function(){return e((t=Y(regeneratorRuntime.mark(function e(t,n){var r,a,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(X.map(function(e){return Q(e)}));case 2:r=e.sent,a=W(r),o=a.data,c=a.list,t({type:"UPDATE_CHART_DATA",list:c,data:o}),t((n=void 0,n=Math.floor(Math.random()*X.length),{type:"SELECT_SPECTRUM",target:X[n].id}));case 6:case"end":return e.stop()}var n},e)})),function(e,n){return t.apply(this,arguments)}));var t}}})(Object(u.c)()(K)),$=n(70),ee=Object(b.a)(function(e){return{chart:{height:"480px"}}}),te=function(e){var t=e.spectrumData,n=e.planckData,r=(e.t,ee());return a.a.createElement("div",{className:r.chart},t&&a.a.createElement($.d,{width:"100%",height:480},a.a.createElement($.c,null,a.a.createElement($.a,{strokeDasharray:"3 3"}),a.a.createElement($.e,{dataKey:"Wavelength",type:"number",allowDecimals:!1,domain:[0,"auto"]}),a.a.createElement($.f,{yAxisId:"left",type:"number",tick:!1,domain:[0,"dataMax"],label:{value:"Energy Density",angle:-90},allowDataOverflow:!0}),a.a.createElement($.f,{hide:!0,domain:[0,"dataMax"],yAxisId:"right"}),a.a.createElement($.b,{yAxisId:"left",type:"monotone",data:t.data,dataKey:"BestFit",dot:!1,isAnimationActive:!1}),a.a.createElement($.b,{yAxisId:"right",type:"monotone",data:n,dataKey:"energyDensity",dot:!1,activeDot:!1,isAnimationActive:!1,stroke:"#82ca9d"}))))},ne=function(e){var t=e.chart.spectrum,n=t.selected,r=t.data;return n?r[n]:null},re=Object(i.b)(function(e){return{spectrumData:ne(e)}},function(e){return{}})(Object(u.c)()(te)),ae=6.626069934*Math.pow(10,-34),oe=1.38064852*Math.pow(10,-23),ce=2.99792458*Math.pow(10,8),ie=function(e,t){return 2*ae*Math.pow(ce,2)/(Math.pow(e,5)*(Math.pow(Math.E,ae*ce/(e*oe*t))-1))},ue=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e-6,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,a=(n-t)/r,o=[],c=t+a,i=0;i<r;i+=1){var u=ie(c,e);o.push({energyDensity:u,Wavelength:1e10*c}),c+=a}return o};function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var se=Object(b.a)(function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{marginBottom:e.spacing(4),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),paddingLeft:e.spacing(2),paddingRight:e.spacing(4)},button:{margin:e.spacing(1)}}}),pe=function(e){var t=e.chart.spectrum,n=t.selected,r=t.data;return n?r[n]:{}},me={O:"> 25,000K",B:"10,000-25,000K",A:"7,500-10,000K",F:"6,000-7,500K",G:"5,000-6,000K",K:"3,500-5,000K",M:"< 3,500K",C:"< 3,500K"},fe=function(){var e=se(),t=Object(i.d)(pe),n=Object(p.f)(),r=le(a.a.useState(3600),2),o=r[0],c=r[1],u=le(a.a.useState(ue(3600)),2),l=u[0],s=u[1],m=le(a.a.useState(!1),2),f=m[0],d=m[1],g=function(){d(!1)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a,{position:"static",color:"default"},a.a.createElement(x.a,{variant:"dense"},a.a.createElement(T.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"home",onClick:function(){n.push("/")}},a.a.createElement(P.a,null)),a.a.createElement(v.a,{variant:"h6",color:"inherit"},"恆星的等效溫度"))),a.a.createElement("main",null,a.a.createElement(y.a,{maxWidth:"lg",className:e.container},a.a.createElement(_.a,{className:e.paper},a.a.createElement(Z,null,a.a.createElement(re,{planckData:l}))),a.a.createElement(v.a,{variant:"h6",align:"center",gutterBottom:!0},"絕對溫度: ",o),a.a.createElement(M.a,{defaultValue:3600,step:10,max:8e3,onChange:function(e,t){c(t),s(ue(t))}}),a.a.createElement(h.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},a.a.createElement(v.a,{align:"left",color:"textSecondary"},"調整溫度滑桿改變黑體輻射頻譜，找出恆星的等效溫度"),a.a.createElement(D.a,{variant:"contained",color:"primary",className:e.button,onClick:function(){d(!0)}},"解答")))),t.subClass&&a.a.createElement(k.a,{open:f,onClose:g,"aria-labelledby":"responsive-dialog-title"},a.a.createElement(I.a,{id:"customized-dialog-title",onClose:g},"恆星的光譜分類為：",t.subClass),a.a.createElement(R.a,null,a.a.createElement(N.a,null,"表面溫度為：",me[t.subClass[0]],a.a.createElement("br",null),"Each spectral type is divided into 10 subclasses, A0, A1, A2, ...A9 etc. The spectral types and sub-classes represent a temperature sequence, from hotter (O stars) to cooler (M stars), and from hotter (subclass 0) to cooler (subclass 9).")),a.a.createElement(A.a,null,a.a.createElement(D.a,{onClick:g,color:"primary"},"關閉"))))},de=n(842),ge=n(844),he=n(845),ve=n(848),be=n(847),ye=n(846),Ee=n(843),we=n(342),Oe=n.n(we),je=n(343),Se=n.n(je),xe=n(344),Te=n.n(xe),Ce=n(48),Pe=n.n(Ce),_e=function(e){return Pe()(e,"spectrum.list",[])},De=function(e){return Pe()(e,"spectrum.selected",{})},ke=function(e){return Pe()(e,"spectrum.isFetching",!1)},Ae=function(e){return Pe()(e,"spectrum.addDialogOpen",!1)},Re=function(e){return Pe()(e,"spectrum.addSpectrumResult",{})},Ne=(n(774),n(235)),Ie=n.n(Ne);function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}window.Promise||(window.Promise=Ie.a);var Ue="https://node-site-253814.appspot.com/",Fe={getSpectrumData:{method:"GET",url:function(e){return"".concat(Ue,"/spectrum/summary/").concat(e.id)},headers:{"Content-Type":"application/json",mode:"cors"}},getSpectrum:{method:"GET",url:function(e){return"".concat(Ue,"/spectrum/").concat(e.id)},headers:{"Content-Type":"application/json",mode:"cors"}},addSpectrum:{method:"POST",url:function(e){return"".concat(Ue,"/spectrum/")},headers:{"Content-Type":"application/json",mode:"cors"}},deleteSpectrum:{method:"DELETE",url:function(e){return"".concat(Ue,"/spectrum/").concat(e.id)},headers:{"Content-Type":"application/json",mode:"cors"}},updateSpectrum:{method:"PUT",url:function(e){return"".concat(Ue,"/spectrum/").concat(e.id)},headers:{"Content-Type":"application/json",mode:"cors"}},getAllSpectrums:{method:"GET",url:function(e){return"".concat(Ue,"/spectrum/")},headers:{"Content-Type":"application/json",mode:"cors"}},getAllPost:{method:"GET",url:function(e){return"http://140.122.146.39/wordpress/index.php/wp-json/wp/v2/posts"},headers:{"Content-Type":"application/json"}}},Le=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"sendRequest",value:function(e,t){var n={method:Fe[e].method,headers:new Headers(Fe[e].headers||{})},r=Fe[e].url(t);switch(n.method){case"PUT":case"POST":console.log(t),t.data&&(n.body=JSON.stringify(t.data));break;case"GET":if(t.params){var a=t.params.map(function(e){return e.value?"".concat(e.key,"=").concat(encodeURIComponent(e.value)):"".concat(e.key)});r="".concat(r,"?").concat(a.join("&"))}}return new Ie.a(function(e){fetch(r,n).then(function(t){t.ok&&t.json().then(function(t){e(t)}).catch(function(e){return console.error(e)})}).catch(function(e){return console.error(e)})})}}])&&Me(t.prototype,n),r&&Me(t,r),e}()),Ge=function(e){var t=e.split(/\r?\n/),n=t.shift().split(",");return t.map(function(e){for(var t=e.split(","),r={},a=0;a<t.length;a+=1)n[a]&&(r[n[a]]=parseFloat(t[a]));return r})};function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ke(e,t,n[t])})}return e}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e,t,n,r,a,o,c){try{var i=e[o](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function qe(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(e){We(o,r,a,c,i,"next",e)}function i(e){We(o,r,a,c,i,"throw",e)}c(void 0)})}}var He=function(){var e=qe(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"START_FETCHING"}),e.next=3,Le.sendRequest(n.method,n.config);case 3:return r=e.sent,t({type:"STOP_FETCHING"}),e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),ze=function(){var e=qe(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(t,{method:"getAllSpectrums",config:{}});case 2:r=e.sent,t({type:"UPDATE_SPECTRUM_LIST",list:r.data});case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Je=n(841),Ve=Object(b.a)(function(e){return{root:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255,255,255, 0.3)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:100},progress:{margin:e.spacing(2)}}}),Ye=function(e){var t=Ve();return a.a.createElement("div",{className:t.root},a.a.createElement(Je.a,{className:t.progress}))},Qe=function(e){var t=e.title,n=e.open,r=e.children,o=e.onClose,c=e.onConfirm,i=(e.disabled,e.isFetching);return a.a.createElement(k.a,{open:n,"aria-labelledby":"form-dialog-title"},a.a.createElement(I.a,{id:"form-dialog-title"},t),a.a.createElement(R.a,{style:{position:"relative",minHeight:"60px",minWidth:"240px"}},i&&a.a.createElement(Ye,null),r),a.a.createElement(A.a,null,a.a.createElement(D.a,{onClick:c,variant:"contained",color:"primary",disabled:i},"確定"),a.a.createElement(D.a,{onClick:o,color:"primary",disabled:i},"取消")))},Xe=n(849);function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var $e=Object(b.a)(function(e){return{form:{position:"relative",minWidth:"360px"}}}),et=function(e){e.className,e.error;var t=$e(),n=Object(i.c)(),o=Object(p.f)(),c=Ze(a.a.useState(""),2),u=c[0],l=c[1],s=Object(i.d)(Ae),m=Object(i.d)(ke),f=Object(i.d)(Re);Object(r.useEffect)(function(){!f.error&&f.success&&(o.push("/list/".concat(u)),l(""),n({type:"CLOSE_ADD_DIALOG"}))},[f]);return a.a.createElement(Qe,{title:"新增資料",open:s,onClose:function(){n({type:"CLOSE_ADD_DIALOG"})},onConfirm:function(){n(function(e){return t=qe(regeneratorRuntime.mark(function t(n,r){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!parseInt(e)){t.next=7;break}return t.next=3,He(n,{method:"addSpectrum",config:{data:{id:e}}});case 3:(a=t.sent).message?n({type:"UPDATE_ADD_SPECTRUM_RESULT",result:{error:!0,success:!1,message:a.message}}):n({type:"UPDATE_ADD_SPECTRUM_RESULT",result:{error:!1,success:!0,message:""}}),t.next=8;break;case 7:n({type:"UPDATE_ADD_SPECTRUM_RESULT",result:{error:!0,success:!1,message:"請輸入數字"}});case 8:case"end":return t.stop()}},t)})),function(e,n){return t.apply(this,arguments)};var t}(u))},disabled:m,isFetching:m},a.a.createElement("form",{noValidate:!0,autoComplete:"off",className:t.form},a.a.createElement(Xe.a,{value:u,error:f.error,id:"standard-full-width",label:"ID",onChange:function(e){l(e.target.value)},helperText:f.message,fullWidth:!0,margin:"normal"})))};function tt(e,t,n,r,a,o,c){try{var i=e[o](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var rt=Object(b.a)(function(e){return{paper:{position:"relative",paddingTop:e.spacing(4),paddingBottom:e.spacing(4),paddingLeft:e.spacing(2),paddingRight:e.spacing(4)},button:{margin:e.spacing(1)},fab:{position:"absolute",top:e.spacing(4),right:e.spacing(4)}}}),at=function(){var e=Object(i.c)(),t=rt(),n=Object(p.f)(),o=Object(i.d)(_e),c=Object(i.d)(ke),u=Object(i.d)(Ae),l=nt(a.a.useState(!1),2),s=l[0],m=l[1],f=nt(a.a.useState(!1),2),d=f[0],g=f[1],h=nt(a.a.useState(""),2),b=h[0],y=h[1];Object(r.useEffect)(function(){e(ze)},[]);var E=(O=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.next=3,Le.sendRequest("deleteSpectrum",{id:b});case 3:t.sent,m(!1),y(""),g(!1),e(ze);case 8:case"end":return t.stop()}},t)}),j=function(){var e=this,t=arguments;return new Promise(function(n,r){var a=O.apply(e,t);function o(e){tt(a,n,r,o,c,"next",e)}function c(e){tt(a,n,r,o,c,"throw",e)}o(void 0)})},function(){return j.apply(this,arguments)}),w=function(e){return function(){y(e),g(!0)}};var O,j;return a.a.createElement(_.a,{className:t.paper},c&&!u&&!d&&a.a.createElement(Ye,null),a.a.createElement(Ee.a,{disabled:c,className:t.fab,onClick:function(){e({type:"OPEN_ADD_DIALOG"})},"aria-label":"Add",color:"primary",size:"small"},a.a.createElement(Oe.a,null)),a.a.createElement(v.a,{variant:"h4",align:"center",gutterBottom:!0},"光譜資料列表"),a.a.createElement(de.a,null,o.map(function(e){return a.a.createElement(ge.a,{key:e.id,onClick:(t=e.id,function(){n.push("/list/".concat(t))}),button:!0},a.a.createElement(he.a,null,a.a.createElement(ye.a,null,a.a.createElement(Se.a,null))),a.a.createElement(be.a,{primary:e.id}),a.a.createElement(ve.a,null,a.a.createElement(T.a,{edge:"end","aria-label":"delete",onClick:w(e.id)},a.a.createElement(Te.a,null))));var t})),a.a.createElement(et,null),a.a.createElement(Qe,{title:"確定刪除這筆資料？",children:b,open:d,onClose:function(){g(!1)},onConfirm:E,isFetching:s}))},ot=n(345),ct=n.n(ot),it=n(346),ut=n.n(it),lt=n(347),st=n.n(lt);function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ft=Object(b.a)(function(e){return{paper:{height:"100%",overflow:"auto",position:"relative",padding:"64px 0 0"},toolbar:{position:"absolute",width:"100%",top:0,left:0},title:{flexGrow:1},main:{height:"100%",overflow:"auto",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(4),"px ").concat(e.spacing(2),"px ").concat(e.spacing(2),"px")},button:{margin:e.spacing(1)},form:{display:"flex",flexWrap:"wrap",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(2),"px ").concat(e.spacing(2),"px ").concat(e.spacing(4),"px"),alignItems:"center"},referenceButton:{marginTop:e.spacing(2)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},textFieldWide:{width:"100%"}}}),dt=function(){var e=ft(),t=Object(i.c)(),n=Object(p.f)(),o=Object(p.g)().id,c=Object(i.d)(De),u=Object(i.d)(ke),l=mt(a.a.useState({subclass:"",surfaceTemperature:"",elementComposition:"",redshift:""}),2),s=l[0],m=l[1];Object(r.useEffect)(function(){t(function(e){return t=qe(regeneratorRuntime.mark(function t(n,r){var a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"UPDATE_EDITED_SPECTRUM",data:null}),t.next=3,He(n,{method:"getSpectrum",config:{id:e}});case 3:a=t.sent,o={id:a.data.id,subclass:a.data.subclass,csvUrl:a.data.csv_link,reference:a.data.reference,redshift:a.data.redshift,surfaceTemperature:a.data.surface_temperature,elementComposition:a.data.element_composition,data:Ge(a.data.data)},n({type:"UPDATE_EDITED_SPECTRUM",data:Be({},o)});case 6:case"end":return t.stop()}},t)})),function(e,n){return t.apply(this,arguments)};var t}(o))},[o]),Object(r.useEffect)(function(){var e=c.subclass,t=c.surfaceTemperature,n=c.elementComposition,r=c.redshift;m({subclass:e,surfaceTemperature:t,elementComposition:n,redshift:r})},[c]);var f=function(e){return function(t){m(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){pt(e,t,n[t])})}return e}({},s,pt({},e,t.target.value)))}};return a.a.createElement(_.a,{className:e.paper},u&&a.a.createElement(Ye,null),a.a.createElement(x.a,{className:e.toolbar},a.a.createElement(T.a,{onClick:function(){return n.push("/list")}},a.a.createElement(ct.a,null)),a.a.createElement(v.a,{variant:"h6",align:"center",className:e.title},"編輯光譜資料"),a.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(){t(function(e,t){return n=qe(regeneratorRuntime.mark(function n(r,a){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,He(r,{method:"updateSpectrum",config:{id:e,data:Be({},t)}});case 2:o=n.sent,console.log(o);case 4:case"end":return n.stop()}},n)})),function(e,t){return n.apply(this,arguments)};var n}(o,s))}},a.a.createElement(ut.a,null))),a.a.createElement("main",{className:e.main},a.a.createElement("div",{className:e.form},a.a.createElement(Xe.a,{label:"Spectrum ID",value:o,className:e.textField,margin:"normal",InputProps:{readOnly:!0}}),a.a.createElement(Xe.a,{label:"Subclass",value:s.subclass,className:e.textField,onChange:f("subclass"),margin:"normal"}),a.a.createElement(D.a,{variant:"contained",color:"default",onClick:function(){window.open(c.reference,"_blank")},className:e.referenceButton},"原始資料網址",a.a.createElement(st.a,null))),a.a.createElement(te,{spectrumData:c.data?c:{}}),a.a.createElement(h.a,{container:!0,direction:"row",justify:"space-around",alignItems:"stretch",className:e.form,spacing:3},a.a.createElement(h.a,{item:!0,sm:4},a.a.createElement(Xe.a,{label:"表面溫度",multiline:!0,value:s.surfaceTemperature,onChange:f("surfaceTemperature"),rows:"4",className:e.textFieldWide,margin:"normal"})),a.a.createElement(h.a,{item:!0,sm:4},a.a.createElement(Xe.a,{label:"成分組成",multiline:!0,value:s.elementComposition,onChange:f("elementComposition"),rows:"4",className:e.textFieldWide,margin:"normal"})),a.a.createElement(h.a,{item:!0,sm:4},a.a.createElement(Xe.a,{label:"紅位移",multiline:!0,value:s.redshift,onChange:f("redshift"),rows:"4",className:e.textFieldWide,margin:"normal"})))))},gt=Object(b.a)(function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4),height:"100vh"}}}),ht=function(){var e=gt(),t=Object(p.h)().path;return a.a.createElement("main",null,a.a.createElement(y.a,{maxWidth:"lg",className:e.container},a.a.createElement(p.c,null,a.a.createElement(p.a,{exact:!0,path:t},a.a.createElement(at,null)),a.a.createElement(p.a,{path:"".concat(t,"/:id")},a.a.createElement(dt,null)))))},vt=n(348),bt=(n(227),n(82)),yt=(n(777),n(229)),Et=n.n(yt),wt=n(850);function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){jt(e,t,n[t])})}return e}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var St=Object(wt.a)({UPDATE_CHART_DATA:function(e,t){var n={list:Et()(e.spectrum.list,t.list),data:Ot({},e.spectrum.data,t.data)};return Ot({},e,{spectrum:n})},SELECT_SPECTRUM:function(e,t){return Ot({},e,{spectrum:Ot({},e.spectrum,{selected:t.target})})}},{spectrum:{list:[],data:{},selected:null}});function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Tt(e,t,n[t])})}return e}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ct=Object(wt.a)({START_FETCHING:function(e){return xt({},e,{isFetching:!0})},STOP_FETCHING:function(e){return xt({},e,{isFetching:!1})},OPEN_ADD_DIALOG:function(e){return xt({},e,{addDialogOpen:!0})},CLOSE_ADD_DIALOG:function(e){return xt({},e,{addDialogOpen:!1})},UPDATE_SPECTRUM_LIST:function(e,t){return xt({},e,{list:t.list})},UPDATE_EDITED_SPECTRUM:function(e,t){return xt({},e,{selected:xt({},t.data)})},UPDATE_ADD_SPECTRUM_RESULT:function(e,t){return xt({},e,{addSpectrumResult:xt({},e.addSpectrumResult,t.result)})}},{list:[],selected:{},isFetching:!1,addDialogOpen:!1,addSpectrumResult:{error:!1,success:!1,message:""}}),Pt=Object(bt.c)({spectrum:Ct,chart:St});var _t=bt.d,Dt=[vt.a];var kt,At=Object(bt.e)(Pt,_t(bt.a.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(kt=Dt)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(kt)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()))),Rt=n(236);Rt.a.use(u.b).init({lng:"en",fallbackLng:"en",resources:{en:{translation:{"chat-room":"Chat Room","btn-send":"Send","login-title":"Please enter your name to login.","login-error":"Login fail, please try again later.","is-logging":"Loading...","is-connecting":"Connecting...","is-disconnect":"Dissconnect ! ","total-users":"{{count}} user in chatroom.","total-users_plural":"{{count}} users in chatroom.","is-online":"{{user}} is online.","is-offline":"{{user}} is offline.","is-left":"{{user}} left.","is-join":"{{user}} joined."}}},interpolation:{escapeValue:!1}});var Nt=Rt.a,It=function(){return a.a.createElement(i.a,{store:At},a.a.createElement(u.a,{i18n:Nt},a.a.createElement(s.a,null,a.a.createElement(l.a,null),a.a.createElement(p.c,null,a.a.createElement(p.a,{exact:!0,path:"/",children:a.a.createElement(j,null)}),a.a.createElement(p.a,{exact:!0,path:"/spectrum",children:a.a.createElement(fe,null)}),a.a.createElement(p.a,{path:"/list",children:a.a.createElement(ht,null)})))))};c.a.render(a.a.createElement(It,null),document.getElementById("root"))},969:function(e,t){}});